<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Open-Closed principle: Enhancing code modularity</title>
  <meta name='description' content='Unlock the potential of the Open-Closed Principle in programming. Discover how to enhance code modularity and simplify maintenance using this SOLID concept. ...'>
  <meta name="keywords" content="open-closed principle,SOLID principles,software engineering,design patterns,strategy pattern,object-oriented programming,programming principles,development best practices">
  <link rel="canonical" href="https://arnolanglade.github.io/open-close-principle.html">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Open-Closed principle: Enhancing code modularity – Arnaud Langlade - Senior software engineer, software architect, and technical coach">
  <meta name="twitter:description" content="Unlock the potential of the Open-Closed Principle in programming. Discover how to enhance code modularity and simplify maintenance using this SOLID concept. Learn to reduce complexity and write more flexible code.">
  <meta name="twitter:image:src" content="https://arnolanglade.github.io/open-close-principle.webp">

  <!-- Facebook OpenGraph -->
  <meta property="og:title" content="Open-Closed principle: Enhancing code modularity – Arnaud Langlade - Senior software engineer, software architect, and technical coach">
  <meta property="og:description" content="Unlock the potential of the Open-Closed Principle in programming. Discover how to enhance code modularity and simplify maintenance using this SOLID concept. Learn to reduce complexity and write more flexible code.">
  <meta property="og:image" content="https://arnolanglade.github.io/open-close-principle.webp">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

  <!-- Ionicons -->
  <link href="https://unpkg.com/ionicons@4.5.0/dist/css/ionicons.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/assets/main.css">
  <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/d7313775f348f8c8d39a841a0/e700de66f691879b2812dc95e.js");</script>
</head>


<body>

    
<script src="https://getinsights.io/js/insights.js"></script>
<script>
    insights.init('VoIrQveDE0uUwpQi');
    insights.trackPages({
        hash: true,
        search: true
    });
</script>
<script type="text/javascript">
    (function(f,b){if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){function g(a,d){var b=d.split(".");2==b.length&&(a=a[b[0]],d=b[1]);a[d]=function(){a.push([d].concat(Array.prototype.slice.call(arguments,0)))}}var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);a||(d+=" (stub)");return d};a.people.toString=function(){return a.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
        for(h=0;h<i.length;h++)g(a,i[h]);var j="set set_once union unset remove delete".split(" ");a.get_group=function(){function b(c){d[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));a.push([e,call2])}}for(var d={},e=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<j.length;c++)b(j[c]);return d};b._i.push([e,f,c])};b.__SV=1.2;e=f.createElement("script");e.type="text/javascript";e.async=!0;e.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
        MIXPANEL_CUSTOM_LIB_URL:"file:"===f.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}})(document,window.mixpanel||[]);

    mixpanel.init('ebca5edb0d7861434aefdf18e32fe9d4');
    mixpanel.track('viewed_page');
</script>



    <!-- begin header -->
<header class="c-header">
  <div class="container">
    <div class="row">
      <div class="c-header__inner">

        <div class="logo">
          <a class="logo__link" href="/">
          
            Langlade Arnaud
          
          </a>
        </div>

        <nav class="main-nav">
          <div class="main-nav__box">

            <div class="nav__icon-close">
              <i class="ion ion-md-close"></i>
            </div>

            <div class="nav__title">Menu</div>

              <ul class="nav__list list-reset">

              
                
                <li class="nav__item">
                  <a href="/" class="nav__link">Home</a>
                </li>
                
              
                
                <li class="nav__item dropdown">
                  <span class="nav__link dropdown-toggle">About me <i class="ion ion-ios-arrow-down arrow-down"></i></span>
                  <div class="dropdown-menu">
                    
                      <a href="/about/" class="nav__link">About me</a>
                    
                      <a href="/experiences/" class="nav__link">My experiences</a>
                    
                      <a href="/talks/" class="nav__link">My talks</a>
                    
                  </div>
                </li>

                
              
                
                <li class="nav__item">
                  <a href="/blog/" class="nav__link">Blog</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/mikado-app/" class="nav__link">MikadoApp</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/contact/" class="nav__link">Contact</a>
                </li>
                
              

            </ul>
          </div>

          <!--bookshop-live name(social-link.jekyll.html) params() context() -->
          
<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com/arnolanglade" target="_blank" rel="noopener" aria-label="twitter icon">
        <img loading="lazy" src="/images/logos/twitter.webp" alt="twitter"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.linkedin.com/in/arnolanglade" target="_blank" rel="noopener" aria-label="linkedin icon">
        <img loading="lazy" src="/images/logos/linkedin.webp" alt="linkedin"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://bsky.app/profile/arnolanglade.bsky.social" target="_blank" rel="noopener" aria-label="bluesky icon">
        <img loading="lazy" src="/images/logos/bluesky.webp" alt="bluesky"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://mastodon.social/@arnolanglade" target="_blank" rel="noopener" aria-label="mastodon icon">
        <img loading="lazy" src="/images/logos/mastodon.webp" alt="mastodon"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://github.com/arnolanglade" target="_blank" rel="noopener" aria-label="github icon">
        <img loading="lazy" src="/images/logos/github.webp" alt="github"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.youtube.com/@arnolanglade" target="_blank" rel="noopener" aria-label="youtube icon">
        <img loading="lazy" src="/images/logos/youtube.webp" alt="youtube"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="/feed.xml" target="_blank" rel="noopener" aria-label="rss icon">
        <img loading="lazy" src="/images/logos/rss.webp" alt="rss"/>
      </a>
    </li>
    
  </ul>
</div>


          <!--bookshop-live end-->
        </nav>

        <div class="nav-button">
          <i class="nav__icon nav__icon-menu ion ion-md-menu"></i>
        </div>

      </div>
    </div>
  </div>
</header>
<!-- end header -->


    <div class="post-top">
  <div class="container">
    <div class="row">

      
      <div class="col col-6 col-d-12">
        <div class="post-image">
          <img loading="lazy" src="/images/posts/open-close-principle.webp" alt="Open-Closed principle: Enhancing code modularity">
        </div>
      </div>
      

      <div class="col col-6 col-d-12">
        <div class="post__info">

          
          <div class="post-tags">
            
              <a href="/tag/oop" class="post-tags__tag">OOP</a>
            
              <a href="/tag/solid" class="post-tags__tag">SOLID</a>
            
          </div>
          

          <h1 class="post__title">Open-Closed principle: Enhancing code modularity</h1>

          <div class="post__meta">
            <div class="post__meta-bottom">
              <time class="post__date" datetime="2023-11-13T00:00:00-06:00">
                13 Nov 2023
              </time>
              
              <p class="post__image-credit">
                Picture: <a class="post__image-credit-link" href="https://unsplash.com/@madze">@madze</a>
              </p>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- begin post -->
<div class="container animate">

  <article class="post">

    <div class="post__content">
      <p>Have you missed my last blog post about the <a href="/oop-inheritance-pitfalls.html">pitfalls of inheritance</a>? I explain how it could be a bad idea to use it too much. Applying composition prevents this problem; it is better to work with small classes to easily assemble. In this blog post, I will talk about the open-closed principle. This principle facilitates composition and helps avoid relying too much on inheritance.</p>

<p>This principle is one of the SOLID principles, and I think it is super important because it allows you to write more flexible code. I wanted to explain it because its definition is quite simple, but it is not necessarily easy to grasp.</p>

<blockquote>
  <p>The open closed principle states “software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification”; that is, such an entity can allow its behaviour to be extended without modifying its source code.</p>

  <p><a href="https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle">Wikipedia</a></p>
</blockquote>

<p>The first time I read the definition of this principle, I understood that I should not have to modify my code to add additional behavior. This part of the definition “open for extension” was a bit confusing. What did it mean? Does it refer to OOP inheritance?  No, it doesn’t refer to OOP inheritance. I have written a blog post about OOP inheritance. It explains why extending a class to change its behavior may seem simple, but is it a good idea? It introduces a lot of coupling in your codebase and between your team.</p>

<p>Before digging into the principle, let’s consider a scenario to illustrate the following example: a class called ‘DiscountCalculator’ is in charge of calculating discounts based on the products in the basket. We apply a 20% discount to products with the category ‘sport,’ a 50% discount to products with the category ‘home,’ and a 10% discount to products with the category ‘food.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Product</span> <span class="p">{</span>
   <span class="kd">constructor</span><span class="p">(</span>
       <span class="k">public</span> <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
       <span class="k">public</span> <span class="nx">category</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
       <span class="k">public</span> <span class="nx">price</span><span class="p">:</span> <span class="kr">number</span>
   <span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Basket</span> <span class="p">{</span>
   <span class="kd">constructor</span><span class="p">(</span><span class="k">public</span> <span class="nx">products</span><span class="p">:</span> <span class="nx">Product</span><span class="p">[])</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">DiscountCalculator</span> <span class="p">{</span>
   <span class="nx">calculate</span><span class="p">(</span><span class="nx">basket</span><span class="p">:</span> <span class="nx">Basket</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
       <span class="kd">let</span> <span class="nx">totalDiscount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>


       <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">product</span> <span class="k">of</span> <span class="nx">basket</span><span class="p">.</span><span class="nx">products</span><span class="p">)</span> <span class="p">{</span>
           <span class="k">switch</span> <span class="p">(</span><span class="nx">product</span><span class="p">.</span><span class="nx">category</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">case</span> <span class="dl">'</span><span class="s1">sport</span><span class="dl">'</span><span class="p">:</span>
                   <span class="nx">totalDiscount</span> <span class="o">+=</span> <span class="nx">product</span><span class="p">.</span><span class="nx">price</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">;</span> <span class="c1">// 20% discount</span>
                   <span class="k">break</span><span class="p">;</span>
               <span class="k">case</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">:</span>
                   <span class="nx">totalDiscount</span> <span class="o">+=</span> <span class="nx">product</span><span class="p">.</span><span class="nx">price</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">;</span> <span class="c1">// 50% discount</span>
                   <span class="k">break</span><span class="p">;</span>
               <span class="k">case</span> <span class="dl">'</span><span class="s1">food</span><span class="dl">'</span><span class="p">:</span>
                   <span class="nx">totalDiscount</span> <span class="o">+=</span> <span class="nx">product</span><span class="p">.</span><span class="nx">price</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">;</span> <span class="c1">// 10% discount</span>
                   <span class="k">break</span><span class="p">;</span>
           <span class="p">}</span>
       <span class="p">}</span>
       
       <span class="k">return</span> <span class="nx">totalDiscount</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Example usage:</span>
<span class="nx">it</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span>
   <span class="p">[</span><span class="dl">'</span><span class="s1">Football</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">sport</span><span class="dl">'</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
   <span class="p">[</span><span class="dl">'</span><span class="s1">Couch</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
   <span class="p">[</span><span class="dl">'</span><span class="s1">Banana</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">food</span><span class="dl">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">])(</span><span class="dl">'</span><span class="s1">calculates discounts for %s category</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">productName</span><span class="p">,</span> <span class="nx">category</span><span class="p">,</span> <span class="nx">price</span><span class="p">,</span> <span class="nx">expectedDiscount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="kd">const</span> <span class="nx">product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">(</span><span class="nx">productName</span><span class="p">,</span> <span class="nx">category</span><span class="p">,</span> <span class="nx">price</span><span class="p">);</span>
   <span class="kd">const</span> <span class="nx">basket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Basket</span><span class="p">([</span><span class="nx">product</span><span class="p">]);</span>
   
   <span class="nx">expect</span><span class="p">(</span><span class="k">new</span> <span class="nx">DiscountCalculator</span><span class="p">().</span><span class="nx">calculate</span><span class="p">(</span><span class="nx">basket</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">expectedDiscount</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p>This code does not follow the open-close principle because we need to modify this <code class="language-plaintext highlighter-rouge">DiscountCalculator</code> class every time we want to add or remove a discount rule. The problem is that<code class="language-plaintext highlighter-rouge">DiscountCalculator</code> may become really large if the business asks us to add a lot of discount rules. Large objects are hard to understand, so it won’t facilitate its maintenance and testability.</p>

<p>Let’s refactor this code to enhance its modularity and align it with the Open-Closed principle. We will use the strategy pattern to rewrite the calculator to remove the hard-coded rules. First, we will introduce a new interface that specifies how a discount works. This interface has two methods: the first one is <code class="language-plaintext highlighter-rouge">isApplicable</code>, which determines if a discount can be applied to a product, while the second one <code class="language-plaintext highlighter-rouge">calculate</code> calculates the amount of the discount.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">Discount</span> <span class="p">{</span>
   <span class="nx">isApplicable</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="nx">boolean</span>
   <span class="nx">calculate</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">SportCategoryDiscount</span> <span class="k">implements</span> <span class="nx">Discount</span> <span class="p">{</span>
   <span class="nx">isApplicable</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="nx">boolean</span> <span class="p">{</span>
       <span class="k">return</span> <span class="nx">product</span><span class="p">.</span><span class="nx">category</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">sport</span><span class="dl">'</span><span class="p">;</span>
   <span class="p">}</span>
   
   <span class="nx">calculate</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
       <span class="k">return</span> <span class="nx">product</span><span class="p">.</span><span class="nx">price</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">HomeCategoryDiscount</span> <span class="k">implements</span> <span class="nx">Discount</span> <span class="p">{</span>
   <span class="nx">isApplicable</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="nx">boolean</span> <span class="p">{</span>
       <span class="k">return</span> <span class="nx">product</span><span class="p">.</span><span class="nx">category</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">;</span>
   <span class="p">}</span>
   
   <span class="nx">calculate</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
       <span class="k">return</span> <span class="nx">product</span><span class="p">.</span><span class="nx">price</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">FoodCategoryDiscount</span> <span class="k">implements</span> <span class="nx">Discount</span> <span class="p">{</span>
   <span class="nx">isApplicable</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="nx">boolean</span> <span class="p">{</span>
       <span class="k">return</span> <span class="nx">product</span><span class="p">.</span><span class="nx">category</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">food</span><span class="dl">'</span><span class="p">;</span>
   <span class="p">}</span>
   
   <span class="nx">calculate</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
       <span class="k">return</span> <span class="nx">product</span><span class="p">.</span><span class="nx">price</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Then, we need to update the calculator. It will determine whether a discount is applicable to a product and calculate the discount amount. With this approach, you can easily add or remove discount rules as needed.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">DiscountCalculator</span> <span class="p">{</span>
   <span class="kd">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">discounts</span><span class="p">:</span> <span class="nx">Discount</span><span class="p">[])</span> <span class="p">{}</span>
    
   <span class="nx">calculateDiscount</span><span class="p">(</span><span class="nx">basket</span><span class="p">:</span> <span class="nx">Basket</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
       <span class="kd">let</span> <span class="nx">totalDiscount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
       
       <span class="nx">basket</span><span class="p">.</span><span class="nx">products</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">product</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
           <span class="k">this</span><span class="p">.</span><span class="nx">discounts</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">discount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
               <span class="k">if</span><span class="p">(</span><span class="nx">discount</span><span class="p">.</span><span class="nx">isApplicable</span><span class="p">(</span><span class="nx">product</span><span class="p">))</span> <span class="p">{</span>
                   <span class="nx">totalDiscount</span> <span class="o">+=</span> <span class="nx">discount</span><span class="p">.</span><span class="nx">calculate</span><span class="p">(</span><span class="nx">product</span><span class="p">);</span>
               <span class="p">}</span>
           <span class="p">});</span>
       <span class="p">});</span>
       
       <span class="k">return</span> <span class="nx">totalDiscount</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Example usage:</span>
<span class="nx">it</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span>
   <span class="p">[</span><span class="dl">'</span><span class="s1">Football</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">sport</span><span class="dl">'</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
   <span class="p">[</span><span class="dl">'</span><span class="s1">Couch</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
   <span class="p">[</span><span class="dl">'</span><span class="s1">Banana</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">food</span><span class="dl">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">])(</span><span class="dl">'</span><span class="s1">calculates discounts for %s category</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">productName</span><span class="p">,</span> <span class="nx">category</span><span class="p">,</span> <span class="nx">price</span><span class="p">,</span> <span class="nx">expectedDiscount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="kd">const</span> <span class="nx">product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">(</span><span class="nx">productName</span><span class="p">,</span> <span class="nx">category</span><span class="p">,</span> <span class="nx">price</span><span class="p">);</span>
   <span class="kd">const</span> <span class="nx">basket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Basket</span><span class="p">([</span><span class="nx">product</span><span class="p">]);</span>
   
   <span class="nx">expect</span><span class="p">(</span><span class="k">new</span> <span class="nx">DiscountCalculator</span><span class="p">([</span>
       <span class="k">new</span> <span class="nx">SportCategoryDiscount</span><span class="p">(),</span>
       <span class="k">new</span> <span class="nx">HomeCategoryDiscount</span><span class="p">(),</span>
       <span class="k">new</span> <span class="nx">FoodCategoryDiscount</span><span class="p">(),</span>
   <span class="p">]).</span><span class="nx">calculate</span><span class="p">(</span><span class="nx">basket</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">expectedDiscount</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p>We don’t need to over-engineer to apply the open-close principle. With the right design pattern, it is quite simple. Now, the discount calculator is more flexible. We didn’t introduce a lot of new code but we divided the class into smaller ones. Small classes are easier to test and understand, and it will facilitate the maintenance and the evolution of your application.</p>


    </div>

    <div class="post__share">
  <div class="share__head">
    <div class="share__title"><i class="ion ion-md-heart"></i> Share it if you like it!</div>
  </div>
  <ul class="share__list list-reset">
    <li class="share__item">
      <a class="share__link share__twitter"
        href="https://twitter.com/intent/tweet?text=Open-Closed%20principle:%20Enhancing%20code%20modularity&url=https://arnolanglade.github.io/open-close-principle.html"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Twitter" rel="nofollow"><i class="ion ion-logo-twitter"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://arnolanglade.github.io/open-close-principle.html"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Facebook" rel="nofollow"><i class="ion ion-logo-facebook"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&url=https://arnolanglade.github.io/open-close-principle.html&title=Open-Closed%20principle:%20Enhancing%20code%20modularity&summary=Unlock%20the%20potential%20of%20the%20Open-Closed%20Principle%20in%20programming.%20Discover%20how%20to%20enhance%20code%20modularity%20and%20simplify%20maintenance%20using%20this%20SOLID%20concept.%20Learn%20to%20reduce%20complexity%20and%20write%20more%20flexible%20code.&source=Arnaud%20Langlade"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on LinkedIn" rel="nofollow"><i class="ion ion-logo-linkedin"></i></a>
    </li>
  </ul>
</div>


  </article>
</div>
<!-- end post -->








<!-- begin related posts -->
<div class="container">
  <section class="related-posts is-related animate">
    <div class="row">
      <div class="col col-12">
        <div class="container__inner">
          <div class="section__info">
            <div class="section__head">
              <h2 class="section__title">You may also like</h2>
              <a class="section__link" href="/blog">
                
                
                  
                    <a href="/tag/OOP" class="section__link related-tag">See all<span> OOP</span> <i class="ion ion-md-arrow-forward"></i></a>
                  
                
                  
                
              
              </a>
            </div>
          </div>
          <div class="row">

          
            
            

            

            
            
            
            

            

            
            
            
            

            

            
            
            
            

            

            

            <!--bookshop-live name(blog-card/blog-card.jekyll.html) params(post=post) context(post=site.posts[3]) -->
          
<div class="c-blog-card col col-4 col-d-6 col-t-12">
  <div class="c-blog-card__inner">

    
    <div class="c-blog-card__image-wrap">
      <a class="c-blog-card__image" href="/oop-inheritance-pitfalls.html">
        <img loading="lazy" src="/images/posts/pitfalls-of-oop-inheritance/pitfalls-of-oop-inheritance.webp" alt="The pitfalls of OOP's inheritance: Why simple isn't always better">
      </a>
    </div>
    

    <div class="c-blog-card__content">

      
      <div class="c-blog-card__tags-box">
        
        <a href="/tag/oop" class="c-blog-card__tag">OOP</a>
        
      </div>
      

      <h2 class="c-blog-card__title">
        <a href="/oop-inheritance-pitfalls.html">The pitfalls of OOP's inheritance: Why simple isn't always better</a>
      </h2>

      <p class="c-blog-card__excerpt">
        Discover the complexities of excessive inheritance in object-oriented programming (OOP) and understand why careful consideration is crucial to avoid potential problems and pitfalls.
      </p>

      <div class="c-blog-card__meta">
        <div class="c-blog-card__info">
          <span class="c-blog-card__date"><time datetime="2023-10-23T00:00:00-05:00">23 Oct 2023</time></span>
        </div>
      </div>
    </div>
  </div>
</div>

          <!--bookshop-live end-->

            
                
              
            
            
            

            

            

            <!--bookshop-live name(blog-card/blog-card.jekyll.html) params(post=post) context(post=site.posts[4]) -->
          
<div class="c-blog-card col col-4 col-d-6 col-t-12">
  <div class="c-blog-card__inner">

    
    <div class="c-blog-card__image-wrap">
      <a class="c-blog-card__image" href="/why-breaking-encapsulation-is-not-a-good-idea.html">
        <img loading="lazy" src="/images/posts/why-breaking-encapsulation-is-not-a-good-idea/why-breaking-encapsulation-is-not-a-good-idea.webp" alt="Why breaking encapsulation is not a good idea">
      </a>
    </div>
    

    <div class="c-blog-card__content">

      
      <div class="c-blog-card__tags-box">
        
        <a href="/tag/testing" class="c-blog-card__tag">testing</a>
        
        <a href="/tag/oop" class="c-blog-card__tag">OOP</a>
        
      </div>
      

      <h2 class="c-blog-card__title">
        <a href="/why-breaking-encapsulation-is-not-a-good-idea.html">Why breaking encapsulation is not a good idea</a>
      </h2>

      <p class="c-blog-card__excerpt">
        This principle restricts direct access to the state of the object from outside. This means that the internal implementation details of a class are hidden. Accessing the state of the object is only allowed through its public API (public methods). This concept helps to protect the data from outside interference and ensures controlled and secure data manipulation.
      </p>

      <div class="c-blog-card__meta">
        <div class="c-blog-card__info">
          <span class="c-blog-card__date"><time datetime="2023-09-19T00:00:00-05:00">19 Sep 2023</time></span>
        </div>
      </div>
    </div>
  </div>
</div>

          <!--bookshop-live end-->

            
                
              
            
            
            

            

            

            <!--bookshop-live name(blog-card/blog-card.jekyll.html) params(post=post) context(post=site.posts[5]) -->
          
<div class="c-blog-card col col-4 col-d-6 col-t-12">
  <div class="c-blog-card__inner">

    
    <div class="c-blog-card__image-wrap">
      <a class="c-blog-card__image" href="/do-not-test-private-methods.html">
        <img loading="lazy" src="/images/posts/do-not-test-private-method/do-not-test-private-methods.webp" alt="Don’t test private methods">
      </a>
    </div>
    

    <div class="c-blog-card__content">

      
      <div class="c-blog-card__tags-box">
        
        <a href="/tag/testing" class="c-blog-card__tag">testing</a>
        
        <a href="/tag/oop" class="c-blog-card__tag">OOP</a>
        
      </div>
      

      <h2 class="c-blog-card__title">
        <a href="/do-not-test-private-methods.html">Don’t test private methods</a>
      </h2>

      <p class="c-blog-card__excerpt">
        One of the first mistakes I made when I started to test my code was to test private methods. Spoiler alert: it was a bad idea! If you need to test a private method, it probably means that your code is not well designed. Private methods are implementation details of objects and we should not care about them. When you test public methods you also test the private ones.
      </p>

      <div class="c-blog-card__meta">
        <div class="c-blog-card__info">
          <span class="c-blog-card__date"><time datetime="2023-07-17T00:00:00-05:00">17 Jul 2023</time></span>
        </div>
      </div>
    </div>
  </div>
</div>

          <!--bookshop-live end-->

            
                
                  
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<!-- end related posts -->



  <!-- begin comments -->
<div class="container">
  <div class="row">
    <div class="col col-12">
      <div class="disqus-inner">
        <div id="disqus_thread" class="post__comments">
          <div id="disqus_empty"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function load_disqus() {
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://arnaudlanglade.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }

  window.addEventListener('scroll', function (e) {
    var currentScroll = document.scrollingElement.scrollTop;
    var disqus_target = document.getElementById('disqus_thread');
    var disqus_empty = document.getElementById('disqus_empty');

    if (disqus_target && disqus_empty && (currentScroll > disqus_target.getBoundingClientRect().top - 150)) {
      load_disqus();
    }
  }, false);

</script>
<noscript>Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<!-- end comments -->



<!--bookshop-live name(newsletter/newsletter.jekyll.html) params(newsletter_title=site.data.newsletter.newsletter_title
newsletter_description=site.data.newsletter.newsletter_description
newsletter_identifier=site.data.newsletter.newsletter_identifier
newsletter_button=site.data.newsletter.newsletter_button) context() -->
          <!-- begin subscribe -->

<section class="c-subscribe section">
  <div class="container">
    <div class="row">
      <div class="col col-12">

        <div class="c-subscribe__inner">
          <div class="c-subscribe__info">
            <h3 class="c-subscribe__title">Newsletter: Be the first to know!</h3>
            <div class="c-subscribe__subtitle">
              <span id="ityped">Subscribe to my newsletter for updates on my latest blog posts, tech releases, and exclusive content. Stay ahead in the coding game!</span>
            </div>
          </div>

          <form class="c-subscribe__form validate" action="https://gmail.us13.list-manage.com/subscribe/post"
            method="POST" id="membedded-subscribe-form" name="membedded-subscribe-form" target="_blank" novalidate>
            <input type="hidden" name="u" value="d7313775f348f8c8d39a841a0">
            <input type="hidden" name="id" value="28bcb90eaa">
            <input type="hidden" name="orig-lang" value="1">
            <label class="screen-reader-text" for="mce-EMAIL">Email address</label>
            <input class="c-subscribe__form-email required email" id="mce-EMAIL" type="text" name="MERGE0" placeholder="Your email address">
            <button class="c-button c-button--primary c-button--large" id="membedded-subscribe" type="submit" name="subscribe">Subscribe</button>
          </form>

        </div>
      </div>
    </div>
  </div>
</section>
<!-- end subscribe -->

          <!--bookshop-live end-->


    <!--
        Bookshop components are accessed using the bookshop tag,
        using the same syntax as the standard Jekyll include tag.
    -->
    <!--bookshop-live name(page.jekyll.html) params(content_blocks=page.content_blocks page_theme=page.page_theme) context() -->
          
          <!--bookshop-live end-->

    <div class="top" title="Top"><i class="ion ion-ios-arrow-up"></i></div>

    <!-- begin footer -->
<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col col-12">

        <!--bookshop-live name(social-link.jekyll.html) params() context() -->
          
<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com/arnolanglade" target="_blank" rel="noopener" aria-label="twitter icon">
        <img loading="lazy" src="/images/logos/twitter.webp" alt="twitter"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.linkedin.com/in/arnolanglade" target="_blank" rel="noopener" aria-label="linkedin icon">
        <img loading="lazy" src="/images/logos/linkedin.webp" alt="linkedin"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://bsky.app/profile/arnolanglade.bsky.social" target="_blank" rel="noopener" aria-label="bluesky icon">
        <img loading="lazy" src="/images/logos/bluesky.webp" alt="bluesky"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://mastodon.social/@arnolanglade" target="_blank" rel="noopener" aria-label="mastodon icon">
        <img loading="lazy" src="/images/logos/mastodon.webp" alt="mastodon"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://github.com/arnolanglade" target="_blank" rel="noopener" aria-label="github icon">
        <img loading="lazy" src="/images/logos/github.webp" alt="github"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.youtube.com/@arnolanglade" target="_blank" rel="noopener" aria-label="youtube icon">
        <img loading="lazy" src="/images/logos/youtube.webp" alt="youtube"/>
      </a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="/feed.xml" target="_blank" rel="noopener" aria-label="rss icon">
        <img loading="lazy" src="/images/logos/rss.webp" alt="rss"/>
      </a>
    </li>
    
  </ul>
</div>


          <!--bookshop-live end-->

        <ul class="footer_nav list-reset">
          
          <li class="footer_nav__item">
            <a href="/" class="footer_nav__link">Home</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/about/" class="footer_nav__link">About me</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/experiences/" class="footer_nav__link">My experiences</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/talks/" class="footer_nav__link">My talks</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/blog/" class="footer_nav__link">Blog</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/mikado-app/" class="footer_nav__link">MikadoApp</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/contact/" class="footer_nav__link">Contact</a>
          </li>
          
        </ul>

        <div class="copyright"><p> 2021 &copy; Langlade Arnaud. Template by <a href="https://cloudcannon.com/">CloudCannon</a>.</p></div>

      </div>
    </div>
  </div>
</footer>
<!-- end footer -->

    <!--
        load the live component for CloudCannon live previews.
    -->
    <script>
(function(){
  const bookshopLiveSetup = (CloudCannon) => {
    CloudCannon.enableEvents();

    const head = document.querySelector('head');
    const script = document.createElement('script');
    script.src = `/_cloudcannon/bookshop-live.js`;
    script.onload = function() {
      window.bookshopLive = new window.BookshopLive({
        remoteGlobals: ['/_cloudcannon/bookshop-site-data.json']
      });
      const updateBookshopLive = async () => {
        const frontMatter = await CloudCannon.value();
        const options = window.bookshopLiveOptions || {};
        await window.bookshopLive.update({page: frontMatter}, options);
        CloudCannon?.refreshInterface?.();
      }
      document.addEventListener('cloudcannon:update', updateBookshopLive);
      updateBookshopLive();
    }
    head.appendChild(script);
  }

  document.addEventListener('cloudcannon:load', function (e) {
    bookshopLiveSetup(e.detail.CloudCannon);
  });
})();
</script>

    <script src="/js/scripts.js"></script>
    <script src="/js/common.js"></script>
    <script id="dsq-count-scr" src="//arnaudlanglade.disqus.com/count.js" async></script>
</body>
</html>
