{% if include.pageurl != nil and include.pageurl != '' %}
{% assign pageurl = include.pageurl %}
{% else %}
{% assign pageurl = page.url %}
{% endif %}

<script>
    function trackShareBlogPost(socialMedia) {
        {% if jekyll.environment == "production" %}
        insights.track(
            {
                id: "blog-post-shared-"+socialMedia,
                parameters: {
                    title: "{{ page.title }}",
                }
            }
        );
        {% else %}
        console.log({socialMedia, title: "{{ page.title }}"});
        {% endif %}
    }
</script>

<div class="share-buttons">
    <div class="linkedin"
         title="Share this on Linkedin"
         onclick="trackShareBlogPost('linkedin');window.open('https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ pageurl }}&title=title&summary=summary&source=source');">
        <img class="shareSocialMedia"
             src="https://img.shields.io/badge/LinkedIn-0077B5?style=for-the-badge&logo=linkedin&logoColor=white">
    </div>
    <div class="twitter"
         title="Share this on Twitter"
         onclick="trackShareBlogPost('twitter');window.open('https://twitter.com/intent/tweet?text={{ page.title|smartify }}&url={{ site.url }}{{ pageurl }}&via={{ site.twitter_username }}');">
        <img class="shareSocialMedia"
             src="https://img.shields.io/badge/Twitter-1DA1F2?style=for-the-badge&logo=twitter&logoColor=white">
    </div>
    <div class="facebook"
         title="Share this on Facebook"
         onclick="trackShareBlogPost('facebook');window.open('https://www.facebook.com/share.php?u={{ site.url }}{{ pageurl }}');">
        <img class="shareSocialMedia"
             src="https://img.shields.io/badge/Facebook-1877F2?style=for-the-badge&logo=facebook&logoColor=white">
    </div>
</div>