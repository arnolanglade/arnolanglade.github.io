<script>
    function trackTalkLink(talk, link) {
        {% if jekyll.environment == "production" %}
        insights.track(
            {
                id: "talk-links",
                parameters: {
                    link: talk+"-"+link,
                }
            }
        );
        {% else %}
        console.log(talk+"-"+link);
        {% endif %}
    }
</script>

<section class="page-section bg-light" id="talk">
    <div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase mb-4">My Talks</h2>
        </div>
        <div class="row">
            {% for post in site.categories.talk %}
            <div class="col-lg-6 col-sm-6 mb-4">
                <div class="portfolio-item">
                    <img class="img-fluid" src="assets/img/talks/{{ post.image }}" alt="{{ post.alt }}"/>
                    <div class="portfolio-caption">
                        <div class="portfolio-caption-heading">{{ post.title }}</div>
                        <div class="portfolio-caption-subheading text-muted">
                            {% if post.event_link %}
                            <a href="{{ post.event_link }}" onclick="trackTalkLink('{{ post.event_name }}', 'event_link')" target="_blank">
                                {{ post.event_name }}
                            </a>
                            {% else %}
                            {{ post.event_name }}
                            {% endif %}
                        </div>
                        <p class="text-black-50 text-justify">{{ post.abstract }}</p>
                        {% if post.youtube_link %}
                        <a href="{{ post.youtube_link }}" onclick="trackTalkLink('{{ post.event_name }}', 'youtube')" target="_blank" title="Watch the video" class="btn-social btn-dark">
                            <i class="fab fa-youtube"></i>
                        </a>
                        {% endif %}
                        {% if post.slide_link %}
                        <a href="{{ post.slide_link }}" onclick="trackTalkLink('{{ post.event_name }}', 'slideshare')" target="_blank" title="Open the slides" class="btn-social btn-dark">
                            <i class="fab fa-slideshare"></i>
                        </a>
                        {% endif %}
                        {% if post.slide_source %}
                        <a href="{{ post.url }}" title="Open the slides" class="btn-social btn-dark">
                            <i class="fab fa-slideshare"></i>
                        </a>
                        {% endif %}
                        {% if post.code_link %}
                        <a href="{{ post.code_link }}" onclick="trackTalkLink('{{ post.event_name }}', 'gitlab')" target="_blank" title="Code example" class="btn-social btn-dark">
                            <i class="fab fa-github"></i>
                        </a>
                        {% endif %}
                        {% if post.interview_link %}
                        <a href="{{ post.interview_link }}" onclick="trackTalkLink('{{ post.event_name }}', 'interview')" target="_blank" title="Interview" class="btn-social btn-dark">
                            <i class="fas fa-microphone"></i>
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
